<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}"
	layout:fragment="Home">
<head>
<style>
.pagination {
	display: inline-block;
}

.pagination.col-lg-6{
	padding: 0px 0px 0px 0px;
}
.pagination a {
	color: black;
	float: left;
	padding: 8px 16px;
	text-decoration: none;
}

.pagination a.active {
	background-color: #4CAF50;
	color: white;
}

.pagination a:hover:not(.active) {
	background-color: #ddd;
}

.insertBtn {
	text-align: right;
}
</style>
<title>게시글 목록</title>
</head>
<body>
	<div class="container">
		<h3>정보 게시판</h3>
		<div class="insertBtn">
			<a th:onclick="|location.href='@{/postInsert}'|">글쓰기</a>
		</div>
		<table class="table">
			<thead>
				<tr>
					<th>게시글 번호</th>
					<th>제목</th>
					<th>작성자</th>
					<th>작성시간</th>
					<th>조회수</th>
					<th>추천수</th>
				</tr>
			</thead>
			<tbody>
				<th:block th:each="info : ${postList}">
					<tr
						th:onclick="|location.href='@{/postInfo(postId=${info.postId})}'|">
						<td>[[${info.postId}]]</td>
						<td>[[${info.title}]]</td>
						<td>[[${info.writer}]]</td>
						<td>[[${#dates.format(info.createDate, 'yyyy-MM-dd')}]]</td>
						<td>[[${info.postView}]]</td>
						<td>[[${info.postLike}]]</td>
					</tr>
				</th:block>
			</tbody>
		</table>
		<div class="center">
			<div class="pagination col-lg-6">
				<div th:if="${currentPage > 1}">
					<a
						th:href="@{/postList(page=${currentPage - 1}, pageSize=${pageSize})}">&laquo;</a>
				</div>
				<div
					th:each="page : ${#numbers.sequence(1, (totalCount / pageSize) + (totalCount % pageSize == 0 ? 0 : 1))}">
					<a th:href="@{/postList(page=${page}, pageSize=${pageSize})}"
						th:text="${page}"
						th:classappend="${page == currentPage} ? 'active'"></a>
				</div>
				<div
					th:if="${currentPage < (totalCount / pageSize) + (totalCount % pageSize == 0 ? 0 : 1)}">
					<a
						th:href="@{/postList(page=${currentPage + 1}, pageSize=${pageSize})}">&raquo;</a>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
