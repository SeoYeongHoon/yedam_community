<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="HeaderFragment">
<style>
</style>
<div class="container-menu-desktop">

	<div class="wrap-main-nav" style="height: 100%">
		<div class="main-nav" style="height: 100%">
			<!-- Menu desktop -->
			<nav class="menu-desktop" style="height: 100%; display: flex; align-items: center; position: relative;">
				<ul class="main-menu">
					<div class="" style="margin-right: 20px;">
						<a href="/home"><img src="images/logo_main.png" alt="LOGO"></a>
					</div>
					<li class="main-menu-active"><a href="/home">Home</a>
					<li class="mega-menu-item"><a href="category-01.html">수료 과정별 게시판</a></li>
					<li class="mega-menu-item"><a href="category-02.html">구인/구직 게시판</a></li>
					<li class="mega-menu-item"><a href="category-01.html">정보 공유 게시판</a></li>
					<li class="mega-menu-item"><a href="category-02.html">질문과 토론 게시판</a></li>
					<li class="mega-menu-item" th:if="${session.logType == 'learning'}"><a href="category-02.html">LMS</a></li>
				</ul>
				<div class="profile_my_info" th:if="${session.logid != null}" style="position: absolute; right: 90px;">
					<p style="font-weight: bold">[[${session.logName}]] 님</p>
					<p>환영합니다!</p>
				</div>
				<div class="profile_image_btn">
					<button id="myMenuBtn"><img th:src="@{${'images/' + session.userImage}}" style="width: 65px; height: 65px; border-radius: 50%;"></button>
					<ul class="myMenuList" style="display: none">
						<li class="myMenuItem" th:if="${session.logid != null && session.logid != 'admin'}"><a href="">프로필</a></li>
						<li class="myMenuItem" th:if="${session.logid == 'admin'}"><a href="/adminMain">관리자페이지</a></li>
						<li class="myMenuItem" th:if="${session.logid != null}"><a href="/logout">로그아웃</a></li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
</div>
<script>
	var menuList = document.querySelector('.myMenuList');
	var menuButton = document.querySelector('#myMenuBtn');
	
	menuButton.addEventListener('click', function(e) {
	    e.stopPropagation();
	    if (menuList.style.display === 'block') {
	        menuList.style.display = 'none';
	    } else {
	        menuList.style.display = 'block';
	    }
	});
	
	// 메뉴 외부 클릭 시 메뉴 닫기
	document.addEventListener('click', function(e) {
	    if (!menuButton.contains(e.target) && !menuList.contains(e.target)) {
	        menuList.style.display = 'none';
	    }
	});

</script>
</html>